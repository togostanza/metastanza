{"version":3,"file":"dev-vegalite-stacked-area-chart.js","sources":["../../../home/runner/work/metastanza/metastanza/stanzas/dev-vegalite-stacked-area-chart/index.js"],"sourcesContent":["import vegaEmbed from \"vega-embed\";\n\nexport default function devVegaliteStackedAreaChart(stanza /* , params */) {\n  //let spec = await fetch(params[\"src-url\"]).then((res) => res.json());\n  const spec = JSON.parse(`{\n    \"$schema\": \"https://vega.github.io/schema/vega-lite/v4.json\",\n    \"width\": 300, \"height\": 200,\n    \"data\": {\"url\": \"https://vega.github.io/vega-lite/data/unemployment-across-industries.json\"},\n    \"mark\": \"area\",\n    \"encoding\": {\n      \"x\": {\n        \"timeUnit\": \"yearmonth\", \"field\": \"date\",\n        \"axis\": {\"format\": \"%Y\"}\n      },\n      \"y\": {\n        \"aggregate\": \"sum\", \"field\": \"count\"\n      },\n      \"color\": {\n        \"field\": \"series\",\n        \"scale\": {\"scheme\": \"category20b\"}\n      }\n    }\n  }`);\n\n  console.log(spec);\n\n  // 新たにカラースキームを自作したいが、反映されない\n  // vega.scheme('basic', ['#f00', '#0f0', '#00f', '#ff0', '#f0f', '#0ff']);\n\n  //カラースキームのセットをパラメータ化して、選択できるようにしたいがvar(--color-scheme)が認識されない・・・\n  // spec.encoding.color.scale = {\"scheme\": \"var(--color-scheme)\"}\n  spec.encoding.color.scale = { scheme: \"pastel1\" };\n\n  const el = stanza.root.querySelector(\"main\");\n  const opts = {\n    renderer: \"svg\",\n  };\n  vegaEmbed(el, spec, opts);\n}\n"],"names":["vegaEmbed"],"mappings":";;;;;;AAEe,SAAS,2BAA2B,CAAC,MAAM,iBAAiB;AAC3E;AACA,EAAE,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,CAAC,CAAC,CAAC;AACN;AACA,EAAE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC;AACpD;AACA,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;AAC/C,EAAE,MAAM,IAAI,GAAG;AACf,IAAI,QAAQ,EAAE,KAAK;AACnB,GAAG,CAAC;AACJ,EAAEA,KAAS,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;AAC5B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}