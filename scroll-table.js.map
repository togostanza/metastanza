{"version":3,"file":"scroll-table.js","sources":["../../../home/runner/work/metastanza/metastanza/stanzas/scroll-table/LineClampCell.vue","../../../home/runner/work/metastanza/metastanza/stanzas/scroll-table/LineClampCell.vue?vue&type=template&id=93c706b2&lang.js","../../../home/runner/work/metastanza/metastanza/stanzas/scroll-table/AnchorCell.vue","../../../home/runner/work/metastanza/metastanza/stanzas/scroll-table/AnchorCell.vue?vue&type=template&id=bae019ae&lang.js","../../../home/runner/work/metastanza/metastanza/stanzas/scroll-table/app.vue","../../../home/runner/work/metastanza/metastanza/stanzas/scroll-table/app.vue?vue&type=template&id=6260173f&lang.js","../../../home/runner/work/metastanza/metastanza/stanzas/scroll-table/index.js"],"sourcesContent":["<!-- eslint-disable vue/no-v-html -->\n<template>\n  <input :id=\"id\" type=\"checkbox\" :name=\"id\" />\n  <label\n    v-if=\"unescape\"\n    :for=\"id\"\n    :style=\"`-webkit-line-clamp: ${lineClamp}`\"\n    v-html=\"value\"\n  ></label>\n  <label v-else :for=\"id\" :style=\"`-webkit-line-clamp: ${lineClamp}`\">\n    {{ value }}\n  </label>\n</template>\n\n<script>\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    id: {\n      type: String,\n      default: null,\n    },\n    unescape: {\n      type: Boolean,\n      default: false,\n    },\n    lineClamp: {\n      type: Number,\n      default: null,\n    },\n    value: {\n      type: String,\n      default: null,\n    },\n  },\n});\n</script>\n","<!-- eslint-disable vue/no-v-html -->\n<template>\n  <input :id=\"id\" type=\"checkbox\" :name=\"id\" />\n  <label\n    v-if=\"unescape\"\n    :for=\"id\"\n    :style=\"`-webkit-line-clamp: ${lineClamp}`\"\n    v-html=\"value\"\n  ></label>\n  <label v-else :for=\"id\" :style=\"`-webkit-line-clamp: ${lineClamp}`\">\n    {{ value }}\n  </label>\n</template>\n\n<script>\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    id: {\n      type: String,\n      default: null,\n    },\n    unescape: {\n      type: Boolean,\n      default: false,\n    },\n    lineClamp: {\n      type: Number,\n      default: null,\n    },\n    value: {\n      type: String,\n      default: null,\n    },\n  },\n});\n</script>\n","<!-- eslint-disable vue/no-v-html -->\n<template>\n  <a v-if=\"unescape && lineClamp\" :href=\"href\" :target=\"target\">\n    <LineClampCell\n      :id=\"id\"\n      :line-clamp=\"lineClamp\"\n      :unescape=\"unescape\"\n      :value=\"value\"\n    />\n  </a>\n  <!-- eslint-disable-next-line vue/no-v-html -->\n  <a v-if=\"unescape && !lineClamp\" :href=\"href\" :target=\"target\" v-html=\"value\">\n  </a>\n  <a v-else :href=\"href\" :target=\"target\">\n    <template v-if=\"lineClamp\">\n      <LineClampCell :id=\"id\" :line-clamp=\"lineClamp\" :value=\"value\" />\n    </template>\n    <template v-else>\n      {{ value }}\n    </template>\n  </a>\n</template>\n\n<script>\nimport { defineComponent } from \"vue\";\nimport LineClampCell from \"./LineClampCell.vue\";\n\nexport default defineComponent({\n  components: {\n    LineClampCell,\n  },\n  props: {\n    id: {\n      type: String,\n      default: null,\n    },\n    href: {\n      type: String,\n      default: null,\n    },\n    value: {\n      type: String,\n      default: null,\n    },\n    target: {\n      type: String,\n      default: \"_blank\",\n    },\n    unescape: {\n      type: Boolean,\n      default: false,\n    },\n    lineClamp: {\n      type: Number,\n      default: null,\n    },\n  },\n});\n</script>\n","<!-- eslint-disable vue/no-v-html -->\n<template>\n  <a v-if=\"unescape && lineClamp\" :href=\"href\" :target=\"target\">\n    <LineClampCell\n      :id=\"id\"\n      :line-clamp=\"lineClamp\"\n      :unescape=\"unescape\"\n      :value=\"value\"\n    />\n  </a>\n  <!-- eslint-disable-next-line vue/no-v-html -->\n  <a v-if=\"unescape && !lineClamp\" :href=\"href\" :target=\"target\" v-html=\"value\">\n  </a>\n  <a v-else :href=\"href\" :target=\"target\">\n    <template v-if=\"lineClamp\">\n      <LineClampCell :id=\"id\" :line-clamp=\"lineClamp\" :value=\"value\" />\n    </template>\n    <template v-else>\n      {{ value }}\n    </template>\n  </a>\n</template>\n\n<script>\nimport { defineComponent } from \"vue\";\nimport LineClampCell from \"./LineClampCell.vue\";\n\nexport default defineComponent({\n  components: {\n    LineClampCell,\n  },\n  props: {\n    id: {\n      type: String,\n      default: null,\n    },\n    href: {\n      type: String,\n      default: null,\n    },\n    value: {\n      type: String,\n      default: null,\n    },\n    target: {\n      type: String,\n      default: \"_blank\",\n    },\n    unescape: {\n      type: Boolean,\n      default: false,\n    },\n    lineClamp: {\n      type: Number,\n      default: null,\n    },\n  },\n});\n</script>\n","<!-- eslint-disable vue/no-v-html -->\n<template>\n  <div\n    class=\"tableWrapper\"\n    :style=\"`width: ${width}px; height: ${height}px;`\"\n    @scroll=\"handleScroll\"\n  >\n    <table v-if=\"state.allRows\">\n      <thead ref=\"thead\">\n        <tr>\n          <th\n            v-for=\"(column, index) in state.columns\"\n            :id=\"column.id\"\n            :key=\"column.id\"\n            :class=\"{ fixed: column.fixed }\"\n            :style=\"\n              column.fixed\n                ? `left: ${index === 0 ? 0 : state.thListWidth[index - 1]}px;`\n                : null\n            \"\n          >\n            {{ column.label }}\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"(row, row_index) in state.allRows\" :key=\"row.id\">\n          <td\n            v-for=\"(cell, index) in row\"\n            :key=\"cell.column.id\"\n            :class=\"[\n              cell.column.align,\n              { fixed: cell.column.fixed },\n              cell.column.class,\n            ]\"\n            :style=\"\n              cell.column.fixed\n                ? `left: ${index === 0 ? 0 : state.thListWidth[index - 1]}px;`\n                : null\n            \"\n          >\n            <span v-if=\"cell.href\">\n              <AnchorCell\n                :id=\"`${cell.column.id}_${row_index}`\"\n                :href=\"cell.href\"\n                :value=\"cell.value\"\n                :target=\"cell.target ? `_${cell.target}` : '_blank'\"\n                :unescape=\"cell.unescape\"\n                :line-clamp=\"cell.lineClamp\"\n              />\n            </span>\n            <span v-else-if=\"cell.lineClamp\">\n              <LineClampCell\n                :id=\"`${cell.column.id}_${row_index}`\"\n                :value=\"cell.value\"\n                :unescape=\"cell.unescape\"\n                :line-clamp=\"cell.lineClamp\"\n              />\n            </span>\n            <!-- eslint-disable-next-line vue/no-v-html -->\n            <span v-else-if=\"cell.unescape\" v-html=\"cell.value\"></span>\n            <span v-else>{{ cell.value }}</span>\n          </td>\n        </tr>\n        <tr v-if=\"state.isFetching\">\n          <td :colspan=\"state.columns.length\" class=\"loadingWrapper\">\n            <div class=\"dotTyping\"></div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport {\n  defineComponent,\n  reactive,\n  onMounted,\n  onRenderTriggered,\n  ref,\n} from \"vue\";\nimport AnchorCell from \"./AnchorCell.vue\";\nimport LineClampCell from \"./LineClampCell.vue\";\n\nimport loadData from \"togostanza-utils/load-data\";\n\nimport metadata from \"./metadata.json\";\n\nexport default defineComponent({\n  components: {\n    AnchorCell,\n    LineClampCell,\n  },\n  props: metadata[\"stanza:parameter\"].map((p) => p[\"stanza:key\"]),\n  setup(params) {\n    const state = reactive({\n      columns: [],\n      allRows: [],\n      main: null,\n      offset: 0,\n\n      isFetching: false,\n\n      thListWidth: [],\n    });\n\n    async function fetchData() {\n      state.isFetching = true;\n      const urlParams = {\n        limit: params.pageSize,\n        offset: state.offset,\n      };\n\n      const url = new URL(params.dataUrl);\n      const searchParams = new URLSearchParams(url.search);\n\n      const rightParams = [];\n      searchParams.forEach((param, name) => {\n        if (name !== \"limit\" && name !== \"offset\") {\n          rightParams.push([name, param]);\n        }\n      });\n      rightParams.push(...Object.entries(urlParams));\n\n      const rightsearchParams = new URLSearchParams(rightParams);\n\n      const data = await loadData(\n        `${url.origin}${url.pathname}?${rightsearchParams.toString()}`,\n        params.dataType,\n        params.main\n      );\n\n      if (params.columns) {\n        state.columns = JSON.parse(params.columns).map((column, index) => {\n          column.fixed = index < params.fixedColumns;\n          return column;\n        });\n      } else if (data.length > 0) {\n        const firstRow = data[0];\n        state.columns = Object.keys(firstRow).map((key, index) => {\n          return {\n            id: key,\n            label: key,\n            fixed: index < params.fixedColumns,\n          };\n        });\n      } else {\n        state.columns = [];\n      }\n\n      state.allRows = state.allRows.concat(\n        data.map((row) => {\n          return state.columns.map((column) => {\n            return {\n              column,\n              value: row[column.id],\n              href: column.link ? row[column.link] : null,\n              unescape: column.escape === false,\n              align: column.align,\n              class: column.class,\n              target: column.target,\n              lineClamp: column[\"line-clamp\"],\n            };\n          });\n        })\n      );\n      state.isFetching = false;\n    }\n\n    function handleScroll(e) {\n      if (\n        e.path[0].scrollTop >\n          e.path[0].firstChild.clientHeight - e.path[0].clientHeight - 5 &&\n        e.path[0].scrollTop <\n          e.path[0].firstChild.clientHeight - e.path[0].clientHeight + 5 &&\n        !state.isFetching\n      ) {\n        state.offset = state.offset + params.pageSize;\n        fetchData();\n      }\n    }\n\n    onMounted(() => {\n      fetchData();\n    });\n\n    const thead = ref(null);\n    onRenderTriggered(() => {\n      setTimeout(() => {\n        const thList = thead.value.children[0].children;\n        state.thListWidth = Array.from(thList).map((th) => th.clientWidth);\n      }, 0);\n    });\n\n    return {\n      state,\n      handleScroll,\n      width: params.width,\n      height: params.height,\n      padding: params.padding,\n      thead,\n    };\n  },\n});\n</script>\n","<!-- eslint-disable vue/no-v-html -->\n<template>\n  <div\n    class=\"tableWrapper\"\n    :style=\"`width: ${width}px; height: ${height}px;`\"\n    @scroll=\"handleScroll\"\n  >\n    <table v-if=\"state.allRows\">\n      <thead ref=\"thead\">\n        <tr>\n          <th\n            v-for=\"(column, index) in state.columns\"\n            :id=\"column.id\"\n            :key=\"column.id\"\n            :class=\"{ fixed: column.fixed }\"\n            :style=\"\n              column.fixed\n                ? `left: ${index === 0 ? 0 : state.thListWidth[index - 1]}px;`\n                : null\n            \"\n          >\n            {{ column.label }}\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"(row, row_index) in state.allRows\" :key=\"row.id\">\n          <td\n            v-for=\"(cell, index) in row\"\n            :key=\"cell.column.id\"\n            :class=\"[\n              cell.column.align,\n              { fixed: cell.column.fixed },\n              cell.column.class,\n            ]\"\n            :style=\"\n              cell.column.fixed\n                ? `left: ${index === 0 ? 0 : state.thListWidth[index - 1]}px;`\n                : null\n            \"\n          >\n            <span v-if=\"cell.href\">\n              <AnchorCell\n                :id=\"`${cell.column.id}_${row_index}`\"\n                :href=\"cell.href\"\n                :value=\"cell.value\"\n                :target=\"cell.target ? `_${cell.target}` : '_blank'\"\n                :unescape=\"cell.unescape\"\n                :line-clamp=\"cell.lineClamp\"\n              />\n            </span>\n            <span v-else-if=\"cell.lineClamp\">\n              <LineClampCell\n                :id=\"`${cell.column.id}_${row_index}`\"\n                :value=\"cell.value\"\n                :unescape=\"cell.unescape\"\n                :line-clamp=\"cell.lineClamp\"\n              />\n            </span>\n            <!-- eslint-disable-next-line vue/no-v-html -->\n            <span v-else-if=\"cell.unescape\" v-html=\"cell.value\"></span>\n            <span v-else>{{ cell.value }}</span>\n          </td>\n        </tr>\n        <tr v-if=\"state.isFetching\">\n          <td :colspan=\"state.columns.length\" class=\"loadingWrapper\">\n            <div class=\"dotTyping\"></div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport {\n  defineComponent,\n  reactive,\n  onMounted,\n  onRenderTriggered,\n  ref,\n} from \"vue\";\nimport AnchorCell from \"./AnchorCell.vue\";\nimport LineClampCell from \"./LineClampCell.vue\";\n\nimport loadData from \"togostanza-utils/load-data\";\n\nimport metadata from \"./metadata.json\";\n\nexport default defineComponent({\n  components: {\n    AnchorCell,\n    LineClampCell,\n  },\n  props: metadata[\"stanza:parameter\"].map((p) => p[\"stanza:key\"]),\n  setup(params) {\n    const state = reactive({\n      columns: [],\n      allRows: [],\n      main: null,\n      offset: 0,\n\n      isFetching: false,\n\n      thListWidth: [],\n    });\n\n    async function fetchData() {\n      state.isFetching = true;\n      const urlParams = {\n        limit: params.pageSize,\n        offset: state.offset,\n      };\n\n      const url = new URL(params.dataUrl);\n      const searchParams = new URLSearchParams(url.search);\n\n      const rightParams = [];\n      searchParams.forEach((param, name) => {\n        if (name !== \"limit\" && name !== \"offset\") {\n          rightParams.push([name, param]);\n        }\n      });\n      rightParams.push(...Object.entries(urlParams));\n\n      const rightsearchParams = new URLSearchParams(rightParams);\n\n      const data = await loadData(\n        `${url.origin}${url.pathname}?${rightsearchParams.toString()}`,\n        params.dataType,\n        params.main\n      );\n\n      if (params.columns) {\n        state.columns = JSON.parse(params.columns).map((column, index) => {\n          column.fixed = index < params.fixedColumns;\n          return column;\n        });\n      } else if (data.length > 0) {\n        const firstRow = data[0];\n        state.columns = Object.keys(firstRow).map((key, index) => {\n          return {\n            id: key,\n            label: key,\n            fixed: index < params.fixedColumns,\n          };\n        });\n      } else {\n        state.columns = [];\n      }\n\n      state.allRows = state.allRows.concat(\n        data.map((row) => {\n          return state.columns.map((column) => {\n            return {\n              column,\n              value: row[column.id],\n              href: column.link ? row[column.link] : null,\n              unescape: column.escape === false,\n              align: column.align,\n              class: column.class,\n              target: column.target,\n              lineClamp: column[\"line-clamp\"],\n            };\n          });\n        })\n      );\n      state.isFetching = false;\n    }\n\n    function handleScroll(e) {\n      if (\n        e.path[0].scrollTop >\n          e.path[0].firstChild.clientHeight - e.path[0].clientHeight - 5 &&\n        e.path[0].scrollTop <\n          e.path[0].firstChild.clientHeight - e.path[0].clientHeight + 5 &&\n        !state.isFetching\n      ) {\n        state.offset = state.offset + params.pageSize;\n        fetchData();\n      }\n    }\n\n    onMounted(() => {\n      fetchData();\n    });\n\n    const thead = ref(null);\n    onRenderTriggered(() => {\n      setTimeout(() => {\n        const thList = thead.value.children[0].children;\n        state.thListWidth = Array.from(thList).map((th) => th.clientWidth);\n      }, 0);\n    });\n\n    return {\n      state,\n      handleScroll,\n      width: params.width,\n      height: params.height,\n      padding: params.padding,\n      thead,\n    };\n  },\n});\n</script>\n","import Stanza from \"togostanza/stanza\";\n\nimport { appendCustomCss } from \"togostanza-utils\";\n\nimport { createApp } from \"vue\";\nimport App from \"./app.vue\";\n\nexport default class ScrollTable extends Stanza {\n  async render() {\n    appendCustomCss(this, this.params[\"custom-css-url\"]);\n\n    const main = this.root.querySelector(\"main\");\n    main.parentNode.style.backgroundColor =\n      \"var(--togostanza-background-color)\";\n    main.parentNode.style.padding = this.params[\"padding\"];\n\n    this._app?.unmount();\n    this._app = createApp(App, { ...this.params, main });\n    this._app.mount(main);\n  }\n}\n"],"names":["_createElementVNode","_createElementBlock","_hoisted_3","LineClampCell","_createVNode","_createCommentVNode","_createBlock","_Fragment","AnchorCell","_normalizeStyle","_openBlock","_normalizeClass","_toDisplayString","_renderList","App"],"mappings":"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"}