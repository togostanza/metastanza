{"version":3,"file":"sunburst.js","sources":["../../../home/runner/work/metastanza/metastanza/stanzas/sunburst/index.js"],"sourcesContent":["import Stanza from \"togostanza/stanza\";\nimport * as d3 from \"d3\";\nimport loadData from \"togostanza-utils/load-data\";\nimport {\n  downloadSvgMenuItem,\n  downloadPngMenuItem,\n  downloadJSONMenuItem,\n  downloadCSVMenuItem,\n  downloadTSVMenuItem,\n  appendCustomCss,\n} from \"togostanza-utils\";\n\nlet path;\n\nexport default class Sunburst extends Stanza {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentId: null,\n    };\n  }\n\n  menu() {\n    return [\n      downloadSvgMenuItem(this, \"sunburst\"),\n      downloadPngMenuItem(this, \"sunburst\"),\n      downloadJSONMenuItem(this, \"sunburst\", this._data),\n      downloadCSVMenuItem(this, \"sunburst\", this._data),\n      downloadTSVMenuItem(this, \"sunburst\", this._data),\n    ];\n  }\n\n  handleEvent(event) {\n    event.stopPropagation();\n    if (event.target !== this.element) {\n      this.state.currentId = \"\" + event.detail.id;\n    }\n  }\n\n  async render() {\n    this.state = new Proxy(this.state, {\n      set(target, key, value) {\n        if (key === \"currentId\") {\n          updateId(getNodeById(value));\n        }\n        return Reflect.set(...arguments);\n      },\n      get: Reflect.get,\n    });\n\n    const dispatchEvent = (value) => {\n      dispatcher.dispatchEvent(\n        new CustomEvent(\"selectedDatumChanged\", {\n          detail: { id: \"\" + value },\n        })\n      );\n    };\n\n    const state = this.state;\n\n    const dispatcher = this.element;\n\n    appendCustomCss(this, this.params[\"custom-css-url\"]);\n    // get value of css vars\n    const css = (key) => getComputedStyle(this.element).getPropertyValue(key);\n\n    const width = this.params[\"width\"];\n    const height = this.params[\"height\"];\n    const colorScale = [];\n\n    const borderWidth = this.params[\"gap-width\"] || 2;\n    const nodesGapWidth = this.params[\"nodes-gap-width\"] || 8;\n    const cornerRadius = this.params[\"nodes-corner-radius\"] || 0;\n    const showNumbers = this.params[\"show-numbers\"];\n    let depthLim = +this.params[\"max-depth\"] || 0;\n    const scalingMethod = this.params[\"scaling\"];\n\n    const data = await loadData(\n      this.params[\"data-url\"],\n      this.params[\"data-type\"],\n      this.root.querySelector(\"main\")\n    );\n\n    this._data = data;\n\n    for (let i = 0; i <= 5; i++) {\n      colorScale.push(`--togostanza-series-${i}-color`);\n    }\n\n    this.renderTemplate({\n      template: \"stanza.html.hbs\",\n    });\n\n    data.forEach((node) => {\n      node.id = \"\" + node.id;\n      if (node?.children) {\n        node.children = node.children.map((child) => \"\" + child);\n      }\n      if (node?.parent) {\n        node.parent = \"\" + node.parent;\n      }\n    });\n\n    //Add root element if there are more than one elements without parent. D3 cannot process data with more than one root elements\n    const rootElemIndexes = [];\n    data.forEach((node, index) => {\n      if (!node.parent) {\n        rootElemIndexes.push(index);\n      }\n    });\n\n    if (rootElemIndexes.length > 1 || !data.find((item) => item.id === \"-1\")) {\n      const rootElem = {\n        id: \"-1\",\n        value: \"\",\n      };\n      data.push(rootElem);\n\n      rootElemIndexes.forEach((index) => {\n        data[index].parent = rootElem.id;\n      });\n    }\n\n    const dataset = data.filter(\n      (item) =>\n        (item.children && !item.n) || (item.n && item.n > 0) || item.id === \"-1\"\n    );\n\n    const el = this.root.querySelector(\"#sunburst\");\n\n    const stratifiedData = d3\n      .stratify()\n      .id(function (d) {\n        return d.id;\n      })\n      .parentId(function (d) {\n        return d.parent;\n      })(dataset);\n\n    const formatNumber = d3.format(\",d\");\n\n    const color = d3.scaleOrdinal(colorScale);\n\n    const partition = (data) => {\n      const root = d3.hierarchy(data);\n      switch (scalingMethod) {\n        case \"Natural\":\n          root.sum((d) => d.data.n);\n          break;\n        case \"Equal children\":\n          root.sum((d) => (d.children ? 0 : 1));\n          break;\n        case \"Equal parents\":\n          root.each(\n            (d) =>\n              (d.value = d.parent\n                ? d.parent.value / d.parent.children.length\n                : 1)\n          );\n          break;\n      }\n\n      root\n        .sort((a, b) => b.value - a.value)\n        // store real values for number labels in d.value2\n        .each((d) => (d.value2 = d3.sum(d, (dd) => dd.data.data.n)));\n      return d3.partition().size([2 * Math.PI, root.height + 1])(root);\n    };\n\n    const root = partition(stratifiedData);\n\n    root.each((d) => (d.current = d));\n\n    // if depthLim 0 of negative, show all levels\n    const maxDepth = d3.max(root, (d) => d.depth);\n    if (depthLim <= 0 || depthLim > maxDepth) {\n      depthLim = maxDepth;\n    }\n\n    const radius = width / ((depthLim + 1) * 2);\n\n    const arc = d3\n      .arc()\n      .startAngle((d) => d.x0)\n      .endAngle((d) => d.x1)\n      .padAngle((d) => Math.min((d.x1 - d.x0) / 2, nodesGapWidth / 500))\n      .padRadius(radius * 1.5)\n      .innerRadius((d) => d.y0 * radius)\n      .outerRadius((d) =>\n        Math.max(d.y0 * radius, d.y1 * radius - borderWidth / 2)\n      )\n      .cornerRadius(cornerRadius);\n\n    const middleArcLabelLine = (d) => {\n      const halfPi = Math.PI / 2;\n      const angles = [d.x0 - halfPi, d.x1 - halfPi];\n      let r = Math.max(0, (d.y1 - (d.y1 - d.y0) / 2.5) * radius);\n\n      const middleAngle = (angles[1] + angles[0]) / 2;\n      const invertDirection = middleAngle > 0 && middleAngle < Math.PI; // On lower quadrants write text ccw\n      if (invertDirection) {\n        r = Math.max(0, (d.y0 + (d.y1 - d.y0) / 2.5) * radius);\n        angles.reverse();\n      }\n\n      if (Math.abs(angles[1] - angles[0]) > Math.PI && d.y0 < 1) {\n        angles[0] = middleAngle + Math.PI / 2;\n        angles[1] = middleAngle - Math.PI / 2;\n\n        r = Math.max(0, (d.y1 - (d.y1 - d.y0) / 5) * radius);\n      }\n\n      const path = d3.path();\n      path.arc(0, 0, r, angles[0], angles[1], invertDirection);\n      return path.toString();\n    };\n\n    const middleArcNumberLine = (d) => {\n      const halfPi = Math.PI / 2;\n      const angles = [d.x0 - halfPi, d.x1 - halfPi];\n      let r = Math.max(0, (d.y0 + (d.y1 - d.y0) / 2.5) * radius);\n\n      const middleAngle = (angles[1] + angles[0]) / 2;\n      const invertDirection = middleAngle > 0 && middleAngle < Math.PI; // On lower quadrants write text ccw\n      if (invertDirection) {\n        r = Math.max(0, (d.y1 - (d.y1 - d.y0) / 2.5) * radius);\n\n        angles.reverse();\n      }\n\n      if (Math.abs(angles[1] - angles[0]) > Math.PI && d.y0 < 1) {\n        r = Math.max(0, (d.y1 - (d.y1 - d.y0) / 2.5) * radius);\n      }\n\n      const path = d3.path();\n      path.arc(0, 0, r, angles[0], angles[1], invertDirection);\n      return path.toString();\n    };\n\n    function textFits(d, charWidth, text) {\n      const deltaAngle = d.x1 - d.x0;\n      const r = Math.max(0, ((d.y0 + d.y1) * radius) / 2);\n      const perimeter = r * deltaAngle;\n\n      return text.length * charWidth < perimeter;\n    }\n\n    const svg = d3\n      .select(el)\n      .append(\"svg\")\n      .style(\"width\", width)\n      .style(\"height\", height)\n      .attr(\"viewBox\", `${-width / 2} ${-height / 2} ${width} ${height}`);\n\n    //Get character width\n    const testText = svg\n      .append(\"g\")\n      .attr(\"class\", \"labels\")\n      .append(\"text\")\n      .text(\"a\");\n    const CHAR_SPACE = testText.node().getComputedTextLength();\n    testText.remove();\n\n    const g = svg.append(\"g\");\n\n    path = g\n      .append(\"g\")\n      .selectAll(\"path\")\n      .data(root.descendants())\n      .join(\"path\")\n      .attr(\"fill\", (d) => {\n        while (d.depth > 1) {\n          d = d.parent;\n        }\n        if (d.data.data.id === \"-1\") {\n          return \"none\";\n        }\n\n        return css(color(d.data.data.label));\n      })\n      .attr(\"fill-opacity\", (d) =>\n        arcVisible(d.current) ? (d.children ? 0.6 : 0.4) : 0\n      )\n      .attr(\"d\", (d) => arc(d.current));\n\n    path\n      .filter((d) => d.children)\n      .style(\"cursor\", \"pointer\")\n      .on(\"click\", clicked);\n\n    path.append(\"title\").text((d) => {\n      return `${d\n        .ancestors()\n        .map((d) => d.data.data.label)\n        .reverse()\n        .join(\"/\")}\\n${formatNumber(d.value2)}`;\n    });\n\n    //add hidden arcs for text\n    const textArcs = g\n      .append(\"g\")\n      .selectAll(\"path\")\n      .data(root.descendants().slice(1))\n      .join(\"path\")\n      .attr(\"class\", \"hidden-arc\")\n      .attr(\"id\", (_, i) => `hiddenLabelArc${i}`)\n      .attr(\"d\", middleArcLabelLine);\n\n    //For numbers\n    const numArcs = g\n      .append(\"g\")\n      .selectAll(\"path\")\n      .data(root.descendants().slice(1))\n      .join(\"path\")\n      .attr(\"class\", \"hidden-arc\")\n      .attr(\"id\", (_, i) => `hiddenNumberArc${i}`)\n      .attr(\"d\", middleArcNumberLine);\n\n    // Center circle\n    const parent = g\n      .append(\"circle\")\n      .datum(root)\n      .attr(\"r\", radius - borderWidth / 2)\n      .attr(\"fill\", \"none\")\n      .attr(\"pointer-events\", \"all\")\n      .on(\"click\", clicked);\n\n    //Text labels\n    const textLabels = g\n      .append(\"g\")\n      .attr(\"class\", \"labels\")\n      .selectAll(\"text\")\n      .data(root.descendants().slice(1))\n      .join(\"text\")\n      .attr(\n        \"fill-opacity\",\n        (d) => +(labelVisible(d) && textFits(d, CHAR_SPACE, d.data.data.label))\n      )\n      .append(\"textPath\")\n      .attr(\"startOffset\", \"50%\")\n      .attr(\"href\", (_, i) => `#hiddenLabelArc${i}`)\n      .text((d) => d.data.data.label);\n\n    //Number labels\n    const numLabels = g\n      .append(\"g\")\n      .attr(\"class\", \"numbers\")\n      .selectAll(\"text\")\n      .data(root.descendants().slice(1))\n      .join(\"text\")\n      //Show only if label is supposed to be shown, label text fits into node and showNumbers =true\n      .attr(\n        \"fill-opacity\",\n        (d) =>\n          +(\n            labelVisible(d) &&\n            textFits(d, CHAR_SPACE, d.data.data.label) &&\n            showNumbers\n          )\n      )\n      .append(\"textPath\")\n      .attr(\"startOffset\", \"50%\")\n      .attr(\"href\", (_, i) => `#hiddenNumberArc${i}`)\n      .text((d) => formatNumber(d.value2));\n\n    function clicked(_e, p) {\n      state.currentId = p.data.data.id;\n\n      dispatchEvent(p.data.data.id);\n    }\n\n    function getNodeById(id) {\n      return root.descendants().find((d) => d.data.data.id === id);\n    }\n\n    function updateId(p) {\n      if (!arcVisible(p.current) && p.current.y1 > 1) {\n        return;\n      }\n\n      parent.datum(p.parent || root);\n\n      parent.attr(\"cursor\", (d) => (d === root ? \"auto\" : \"pointer\"));\n\n      root.each(\n        (d) =>\n          (d.target = {\n            x0:\n              Math.max(0, Math.min(1, (d.x0 - p.x0) / (p.x1 - p.x0))) *\n              2 *\n              Math.PI,\n            x1:\n              Math.max(0, Math.min(1, (d.x1 - p.x0) / (p.x1 - p.x0))) *\n              2 *\n              Math.PI,\n            y0: Math.max(0, d.y0 - p.depth),\n            y1: Math.max(0, d.y1 - p.depth),\n          })\n      );\n\n      const t = g.transition().duration(750);\n\n      // Transition the data on all arcs, even the ones that arenâ€™t visible,\n      // so that if this transition is interrupted, entering arcs will start\n      // the next transition from the desired position.\n      path\n        .transition(t)\n        .tween(\"data\", (d) => {\n          const i = d3.interpolate(d.current, d.target);\n          return (t) => (d.current = i(t));\n        })\n        .filter(function (d) {\n          return +this.getAttribute(\"fill-opacity\") || arcVisible(d.target);\n        })\n        .attr(\"fill-opacity\", (d) =>\n          arcVisible(d.target) ? (d.children ? 0.6 : 0.4) : 0\n        )\n        .attr(\"cursor\", (d) =>\n          d.children && arcVisible(d.target) ? \"pointer\" : \"auto\"\n        )\n\n        .attrTween(\"d\", (d) => () => arc(d.current));\n\n      parent.transition(t).attr(\"fill\", () => {\n        let b = p;\n        while (b.depth > 1) {\n          b = b.parent;\n        }\n\n        return b.data?.data?.label\n          ? css(color(b.data.data.label))\n          : \"rgba(0,0,0,0)\";\n      });\n\n      textLabels\n        .filter(function (d) {\n          return +this.getAttribute(\"fill-opacity\") || +labelVisible(d.target);\n        })\n        .transition(t)\n        .attr(\n          \"fill-opacity\",\n          (d) =>\n            +(\n              labelVisible(d.target) &&\n              textFits(d.target, CHAR_SPACE, d.data.data.label)\n            )\n        );\n\n      textArcs\n        .transition(t)\n        .attrTween(\"d\", (d) => () => middleArcLabelLine(d.current));\n\n      numLabels\n        .filter(function (d) {\n          return +this.getAttribute(\"fill-opacity\") || labelVisible(d.target);\n        })\n        .transition(t)\n        .attr(\n          \"fill-opacity\",\n          (d) =>\n            +(\n              labelVisible(d.target) &&\n              textFits(d.target, CHAR_SPACE, d.data.data.label) &&\n              showNumbers\n            )\n        );\n\n      numArcs\n        .transition(t)\n        .attrTween(\"d\", (d) => () => middleArcNumberLine(d.current));\n    }\n\n    function arcVisible(d) {\n      return d.y1 <= depthLim + 1 && d.y0 >= 1 && d.x1 > d.x0;\n    }\n\n    function labelVisible(d) {\n      return d.y1 <= depthLim + 1 && d.y0 >= 0;\n    }\n  }\n}\n"],"names":["d3\n      .stratify","d3.format","d3.scaleOrdinal","partition","d3.hierarchy","d3.sum","d3.partition","d3.max","d3\n      .arc","d3.path","d3\n      .select","d3.interpolate"],"mappings":"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"}