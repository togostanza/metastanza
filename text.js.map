{"version":3,"file":"text.js","sources":["../../../home/runner/work/metastanza/metastanza/stanzas/text/index.js"],"sourcesContent":["import Stanza from \"togostanza/stanza\";\n\nimport loadData from \"@/lib/load-data\";\n\nexport default class Text extends Stanza {\n  async render() {\n    this.importWebFontCSS(\n      \"https://use.fontawesome.com/releases/v5.6.3/css/all.css\"\n    );\n    const dataset = await loadData(\n      this.params[\"data-url\"],\n      this.params[\"data-type\"]\n    );\n    const textBlob = new Blob([dataset.value], {\n      type: \"text/plain\",\n    });\n\n    const textUrl = URL.createObjectURL(textBlob);\n    console.log(textUrl);\n\n    this.renderTemplate({\n      template: \"stanza.html.hbs\",\n      parameters: {\n        rows: [\n          {\n            value: dataset.value,\n          },\n        ],\n        textUrl: URL.createObjectURL(textBlob),\n      },\n    });\n    const width = this.params[\"width\"];\n    const height = this.params[\"height\"];\n    const padding = this.params[\"padding\"];\n    const container = this.root.querySelector(\".container\");\n    const main = this.root.querySelector(\"main\");\n    main.setAttribute(\"style\", `padding: ${padding}px;`);\n    container.setAttribute(`style`, `width: ${width}px; height: ${height}px;`);\n\n    const menu = this.root.querySelector(\".menu\");\n    switch (this.params[\"metastanza-menu-placement\"]) {\n      case \"top-left\":\n        break;\n      case \"top-right\":\n        menu.setAttribute(\"style\", \"justify-content: flex-end;\");\n        break;\n      case \"bottom-left\":\n        container.setAttribute(\"style\", \"flex-direction: column-reverse;\");\n        break;\n      case \"bottom-right\":\n        menu.setAttribute(\"style\", \"justify-content: flex-end;\");\n        container.setAttribute(\n          \"style\",\n          \"justify-content flex-end; flex-direction: column-reverse;\"\n        );\n        break;\n      case \"none\":\n        menu.setAttribute(\"style\", \"display: none;\");\n        break;\n    }\n  }\n}\n"],"names":[],"mappings":"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"}