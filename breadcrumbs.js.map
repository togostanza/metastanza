{"version":3,"file":"breadcrumbs.js","sources":["../../../home/runner/work/metastanza/metastanza/node_modules/d3-selection/src/create.js","../../../home/runner/work/metastanza/metastanza/stanzas/breadcrumbs/rounding.js","../../../home/runner/work/metastanza/metastanza/stanzas/breadcrumbs/clipboard.js","../../../home/runner/work/metastanza/metastanza/stanzas/breadcrumbs/index.js"],"sourcesContent":["import creator from \"./creator.js\";\nimport select from \"./select.js\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","/* eslint-disable */\n/*****************************************************************************\n *                                                                            *\n *  SVG Path Rounding Function                                                *\n *  Copyright (C) 2014 Yona Appletree                                         *\n *                                                                            *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");           *\n *  you may not use this file except in compliance with the License.          *\n *  You may obtain a copy of the License at                                   *\n *                                                                            *\n *      http://www.apache.org/licenses/LICENSE-2.0                            *\n *                                                                            *\n *  Unless required by applicable law or agreed to in writing, software       *\n *  distributed under the License is distributed on an \"AS IS\" BASIS,         *\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  *\n *  See the License for the specific language governing permissions and       *\n *  limitations under the License.                                            *\n *                                                                            *\n *****************************************************************************/\n\n/**\n * SVG Path rounding function. Takes an input path string and outputs a path\n * string where all line-line corners have been rounded. Only supports absolute\n * commands at the moment.\n *\n * @param pathString The SVG input path\n * @param radius The amount to round the corners, either a value in the SVG\n *               coordinate space, or, if useFractionalRadius is true, a value\n *               from 0 to 1.\n * @param useFractionalRadius If true, the curve radius is expressed as a\n *               fraction of the distance between the point being curved and\n *               the previous and next points.\n * @returns A new SVG path string with the rounding\n */\nexport default function roundPathCorners(\n  pathString,\n  radius,\n  useFractionalRadius\n) {\n  function moveTowardsLength(movingPoint, targetPoint, amount) {\n    var width = targetPoint.x - movingPoint.x;\n    var height = targetPoint.y - movingPoint.y;\n\n    var distance = Math.sqrt(width * width + height * height);\n\n    return moveTowardsFractional(\n      movingPoint,\n      targetPoint,\n      Math.min(1, amount / distance)\n    );\n  }\n  function moveTowardsFractional(movingPoint, targetPoint, fraction) {\n    return {\n      x: movingPoint.x + (targetPoint.x - movingPoint.x) * fraction,\n      y: movingPoint.y + (targetPoint.y - movingPoint.y) * fraction,\n    };\n  }\n\n  // Adjusts the ending position of a command\n  function adjustCommand(cmd, newPoint) {\n    if (cmd.length > 2) {\n      cmd[cmd.length - 2] = newPoint.x;\n      cmd[cmd.length - 1] = newPoint.y;\n    }\n  }\n\n  // Gives an {x, y} object for a command's ending position\n  function pointForCommand(cmd) {\n    return {\n      x: parseFloat(cmd[cmd.length - 2]),\n      y: parseFloat(cmd[cmd.length - 1]),\n    };\n  }\n\n  // Split apart the path, handing concatonated letters and numbers\n  var pathParts = pathString.split(/[,\\s]/).reduce(function (parts, part) {\n    var match = part.match(\"([a-zA-Z])(.+)\");\n    if (match) {\n      parts.push(match[1]);\n      parts.push(match[2]);\n    } else {\n      parts.push(part);\n    }\n\n    return parts;\n  }, []);\n\n  // Group the commands with their arguments for easier handling\n  var commands = pathParts.reduce(function (commands, part) {\n    if (parseFloat(part) == part && commands.length) {\n      commands[commands.length - 1].push(part);\n    } else {\n      commands.push([part]);\n    }\n\n    return commands;\n  }, []);\n\n  // The resulting commands, also grouped\n  var resultCommands = [];\n\n  if (commands.length > 1) {\n    var startPoint = pointForCommand(commands[0]);\n\n    // Handle the close path case with a \"virtual\" closing line\n    var virtualCloseLine = null;\n    if (commands[commands.length - 1][0] == \"Z\" && commands[0].length > 2) {\n      virtualCloseLine = [\"L\", startPoint.x, startPoint.y];\n      commands[commands.length - 1] = virtualCloseLine;\n    }\n\n    // We always use the first command (but it may be mutated)\n    resultCommands.push(commands[0]);\n\n    for (var cmdIndex = 1; cmdIndex < commands.length; cmdIndex++) {\n      var prevCmd = resultCommands[resultCommands.length - 1];\n\n      var curCmd = commands[cmdIndex];\n\n      // Handle closing case\n      var nextCmd =\n        curCmd == virtualCloseLine ? commands[1] : commands[cmdIndex + 1];\n\n      // Nasty logic to decide if this path is a candidite.\n      if (\n        nextCmd &&\n        prevCmd &&\n        prevCmd.length > 2 &&\n        curCmd[0] == \"L\" &&\n        nextCmd.length > 2 &&\n        nextCmd[0] == \"L\"\n      ) {\n        // Calc the points we're dealing with\n        var prevPoint = pointForCommand(prevCmd);\n        var curPoint = pointForCommand(curCmd);\n        var nextPoint = pointForCommand(nextCmd);\n\n        // The start and end of the cuve are just our point moved towards the previous and next points, respectivly\n        var curveStart, curveEnd;\n\n        if (useFractionalRadius) {\n          curveStart = moveTowardsFractional(\n            curPoint,\n            prevCmd.origPoint || prevPoint,\n            radius\n          );\n          curveEnd = moveTowardsFractional(\n            curPoint,\n            nextCmd.origPoint || nextPoint,\n            radius\n          );\n        } else {\n          curveStart = moveTowardsLength(curPoint, prevPoint, radius);\n          curveEnd = moveTowardsLength(curPoint, nextPoint, radius);\n        }\n\n        // Adjust the current command and add it\n        adjustCommand(curCmd, curveStart);\n        curCmd.origPoint = curPoint;\n        resultCommands.push(curCmd);\n\n        // The curve control points are halfway between the start/end of the curve and\n        // the original point\n        var startControl = moveTowardsFractional(curveStart, curPoint, 0.5);\n        var endControl = moveTowardsFractional(curPoint, curveEnd, 0.5);\n\n        // Create the curve\n        var curveCmd = [\n          \"C\",\n          startControl.x,\n          startControl.y,\n          endControl.x,\n          endControl.y,\n          curveEnd.x,\n          curveEnd.y,\n        ];\n        // Save the original point for fractional calculations\n        curveCmd.origPoint = curPoint;\n        resultCommands.push(curveCmd);\n      } else {\n        // Pass through commands that don't qualify\n        resultCommands.push(curCmd);\n      }\n    }\n\n    // Fix up the starting point and restore the close path if the path was orignally closed\n    if (virtualCloseLine) {\n      var newStartPoint = pointForCommand(\n        resultCommands[resultCommands.length - 1]\n      );\n      resultCommands.push([\"Z\"]);\n      adjustCommand(resultCommands[0], newStartPoint);\n    }\n  } else {\n    resultCommands = commands;\n  }\n\n  return resultCommands.reduce(function (str, c) {\n    return str + c.join(\" \") + \" \";\n  }, \"\");\n}\n","/**\n * multi browser clipboard copy - ypetya@gmail.com\n * */\n/***\n * This function uses multiple methods for copying data to clipboard\n * 1. document.execCommand('copy') can be supported only for user initiated contexts\n *   - that means we can only determine it on the fly\n *   - d3 eventDispatch is not working this way\n * 2. ClipboardEvent constructor is only defined for Firefox (see MDN)\n *   - for FF, d3 selector uses input's value property instead of selection.text()\n * */\nexport default function (inputNode, action) {\n  // Chrome\n  if (\n    document.queryCommandSupported &&\n    document.queryCommandSupported(action)\n  ) {\n    inputNode.select();\n    document.execCommand(action);\n  } else {\n    // FF\n    const event = new ClipboardEvent(action);\n    const text = inputNode.value;\n    event.clipboardData.setData(\"text/plain\", text);\n    event.preventDefault();\n    document.dispatchEvent(event);\n  }\n}\n","import Stanza from \"togostanza/stanza\";\nimport * as d3 from \"d3\";\nimport loadData from \"togostanza-utils/load-data\";\nimport * as FAIcons from \"@fortawesome/free-solid-svg-icons\";\nimport roundPathCorners from \"./rounding.js\";\nimport copyToClipbard from \"./clipboard\";\n\n//convert kebab-case into camelCase\nconst camelize = (s) => s.replace(/-./g, (x) => x[1].toUpperCase());\n\n// FAIcons.library.add(FAIcons.faArrowRight);\n\nimport {\n  downloadSvgMenuItem,\n  downloadPngMenuItem,\n  downloadJSONMenuItem,\n  downloadCSVMenuItem,\n  downloadTSVMenuItem,\n  appendCustomCss,\n} from \"togostanza-utils\";\n\nexport default class Breadcrumbs extends Stanza {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentId: null,\n    };\n  }\n  menu() {\n    return [\n      downloadSvgMenuItem(this, \"breadcrumbs\"),\n      downloadPngMenuItem(this, \"breadcrumbs\"),\n      downloadJSONMenuItem(this, \"breadcrumbs\", this._data),\n      downloadCSVMenuItem(this, \"breadcrumbs\", this._data),\n      downloadTSVMenuItem(this, \"breadcrumbs\", this._data),\n    ];\n  }\n\n  handleEvent(event) {\n    event.stopPropagation();\n    if (event.target !== this.element) {\n      this.state.currentId = \"\" + event.detail.id;\n    }\n  }\n\n  async render() {\n    this.state = new Proxy(this.state, {\n      set(target, key, value) {\n        if (key === \"currentId\") {\n          updateId(value);\n        }\n        return Reflect.set(...arguments);\n      },\n      get: Reflect.get,\n    });\n\n    const dispatchEvent = (value) => {\n      dispatcher.dispatchEvent(\n        new CustomEvent(\"selectedDatumChanged\", {\n          detail: { id: parseInt(value) },\n        })\n      );\n    };\n\n    const state = this.state;\n\n    const dispatcher = this.element;\n\n    let showingMenu = null;\n\n    appendCustomCss(this, this.params[\"custom-css-url\"]);\n\n    const width = this.params[\"width\"];\n    const height = this.params[\"height\"];\n    const showDropdown = this.params[\"show-dropdown\"];\n    const rootIcon = camelize(this.params[\"root-node-label-icon\"]);\n    const rootLabel = this.params[\"root-node-label-text\"];\n    const copyIcon = camelize(this.params[\"copy-icon\"]);\n    const initialId = this.params[\"initial-data-id\"];\n    const labelsDataKey = this.params[\"labels-data-key\"];\n    const breadcrumbsR = this.params[\"breadcrumbs-corner-radius\"];\n    const breadcrumbsArrowLength = this.params[\"breadcrumbs-arrow-length\"];\n    const showCopyButton = this.params[\"show-copy-button\"];\n\n    const values = await loadData(\n      this.params[\"data-url\"],\n      this.params[\"data-type\"],\n      this.root.querySelector(\"main\")\n    );\n\n    if (!values.some((d) => d[labelsDataKey])) {\n      console.error(\n        \"BREADCRUMBS_STANZA: No data found with the key '\" + labelsDataKey + \"'\"\n      );\n    }\n\n    this._data = values;\n\n    this.renderTemplate({\n      template: \"stanza.html.hbs\",\n    });\n\n    const root = this.root;\n    const app = this.root.getElementById(\"breadcrumbs\");\n    app.style.maxWidth = width + \"px\";\n    app.style.height = height + \"px\";\n\n    const appBreadcrumbs = app.appendChild(\n      d3.create(\"div\").attr(\"id\", \"app-breadcrumbs\").node()\n    );\n\n    if (showCopyButton) {\n      const button = app.appendChild(\n        d3.create(\"button\").attr(\"id\", \"app-copy-button\").node()\n      );\n\n      button.addEventListener(\"click\", handleCopyToClipboard);\n\n      button.setAttribute(\"height\", height + \"px\");\n      button.style[\"border-radius\"] = breadcrumbsR + \"px\";\n\n      try {\n        button.appendChild(generateFAIcon(copyIcon, \"copy-icon\"));\n      } catch (error) {\n        button.innerText = \"⧉\";\n      }\n\n      d3.select(button).on(\"mouseenter\", () => {\n        if (showingMenu) {\n          showingMenu.remove();\n        }\n      });\n    }\n\n    // button.innerText = \"⧉\";\n    function generateFAIcon(iconName, className) {\n      const camelizedIconName = FAIcons[`fa${camelize(iconName)}`]?.icon;\n\n      const result = d3\n        .create(\"svg\")\n        .attr(\"class\", className)\n        .attr(\"viewBox\", `0 0 ${camelizedIconName[0]} ${camelizedIconName[1]}`);\n      result.append(\"path\").attr(\"d\", camelizedIconName[4]);\n      return result.node();\n    }\n\n    const idMap = new Map();\n\n    addRoot(values);\n\n    values.forEach((node) => {\n      node.id = \"\" + node.id;\n      if (node?.children) {\n        node.children = node.children.map((child) => \"\" + child);\n      }\n      if (node?.parent) {\n        node.parent = \"\" + node.parent;\n      }\n      idMap.set(node.id, node);\n    });\n\n    function getPolygon(width, height) {\n      if (width < breadcrumbsArrowLength) {\n        throw new Error(\"Width must be greater than arrow length\");\n      }\n\n      const points = [\n        [0, 0],\n        [width - breadcrumbsArrowLength, 0],\n        [width, height / 2],\n        [width - breadcrumbsArrowLength, height],\n        [0, height],\n      ];\n\n      const path = `M 0,0 L ${points[1].join(\",\")} L ${points[2].join(\n        \",\"\n      )} L ${points[3].join(\",\")} L ${points[4].join(\",\")} Z`;\n\n      return path;\n    }\n\n    function getTextRect(app, text) {\n      const svg = d3.create(\"svg\");\n      const textEl = svg.append(\"text\");\n\n      textEl.append(\"tspan\").text(text);\n\n      app.appendChild(svg.node()); // TODO\n      const textWidth = textEl.node().getBBox().width;\n      const textHeight = textEl.node().getBBox().height;\n      textEl.remove();\n      app.removeChild(svg.node()); //TODO\n      svg.remove();\n\n      return { textWidth, textHeight };\n    }\n\n    function generateSVGBreadcrumb(datum, height, strokeWidth = 1, r = 3) {\n      let path;\n\n      const svg = d3.create(\"svg\");\n\n      const labelText = datum[labelsDataKey];\n\n      const camelizedIconName = FAIcons[`fa${camelize(rootIcon)}`]?.icon;\n\n      const innerMargin = 6;\n      let textRect, iconLeft, labelLeft, iconTop;\n      const labelTop = (height + strokeWidth) / 2;\n      let textWidth = 0;\n      let textHeight = 0;\n      let iconWidth = 0;\n      let svgBreadcrumbWidth = 0;\n\n      if (\n        labelText &&\n        labelText.length > 0 &&\n        camelizedIconName &&\n        datum.id === \"-1\"\n      ) {\n        // text + icon\n        textRect = getTextRect(app, labelText);\n        textWidth = textRect.textWidth;\n        textHeight = textRect.textHeight;\n        iconWidth = textHeight;\n\n        labelLeft = innerMargin * 2 + iconWidth;\n\n        svgBreadcrumbWidth = Math.max(\n          breadcrumbsArrowLength + textWidth + 3 * innerMargin + iconWidth,\n          breadcrumbsArrowLength + 10\n        );\n        iconLeft = -svgBreadcrumbWidth / 2 + iconWidth / 2 + innerMargin;\n        iconTop = height / 2 - iconWidth / 2;\n        svg\n          .attr(\"width\", svgBreadcrumbWidth)\n          .attr(\"height\", height + strokeWidth);\n        const g = svg.append(\"g\");\n\n        if (typeof r === \"number\" && r > 0) {\n          path = roundPathCorners(\n            getPolygon(svgBreadcrumbWidth - strokeWidth, height - strokeWidth),\n            r,\n            0\n          );\n        } else {\n          path = getPolygon(\n            svgBreadcrumbWidth - strokeWidth,\n            height - strokeWidth,\n            breadcrumbsArrowLength\n          );\n        }\n        g.attr(\"transform\", `translate(${strokeWidth / 2},${strokeWidth / 2})`);\n        g.append(\"path\").attr(\"d\", path).attr(\"class\", \"breadcrumb-path\");\n\n        const icon = g\n          .append(\"svg\")\n          .attr(\"x\", iconLeft)\n          .attr(\"y\", iconTop)\n          .attr(\n            \"viewBox\",\n            `0 0 ${camelizedIconName[0]} ${camelizedIconName[1]}`\n          )\n          .attr(\"class\", \"home-icon\");\n        icon.append(\"path\").attr(\"d\", camelizedIconName[4]);\n        icon.attr(\"height\", textHeight);\n\n        g.append(\"text\")\n          .text(rootLabel || datum[labelsDataKey])\n          .attr(\"y\", labelTop)\n          .attr(\"x\", labelLeft)\n          .attr(\"alignment-baseline\", \"middle\")\n          .attr(\"opacity\", 1);\n\n        svg.on(\"click\", () => {\n          // handleChange(datum.id);\n          state.currentId = datum.id;\n          dispatchEvent(datum.id);\n        });\n\n        return svg;\n      } else if (camelizedIconName && datum.id === \"-1\") {\n        textHeight = getTextRect(app, \"W\").textHeight;\n        iconWidth = textHeight;\n        svgBreadcrumbWidth = Math.max(\n          breadcrumbsArrowLength + iconWidth + 2 * innerMargin,\n          breadcrumbsArrowLength + 10\n        );\n        iconLeft = -svgBreadcrumbWidth / 2 + iconWidth / 2 + innerMargin;\n\n        svg\n          .attr(\"width\", svgBreadcrumbWidth)\n          .attr(\"height\", height + strokeWidth);\n        const g = svg.append(\"g\");\n        if (typeof r === \"number\" && r > 0) {\n          path = roundPathCorners(\n            getPolygon(svgBreadcrumbWidth - strokeWidth, height - strokeWidth),\n            r,\n            0\n          );\n        } else {\n          path = getPolygon(\n            svgBreadcrumbWidth - strokeWidth,\n            height - strokeWidth,\n            breadcrumbsArrowLength\n          );\n        }\n        g.attr(\"transform\", `translate(${strokeWidth / 2},${strokeWidth / 2})`);\n        g.append(\"path\").attr(\"d\", path).attr(\"class\", \"breadcrumb-path\");\n\n        const icon = g\n          .append(\"svg\")\n          .attr(\"x\", iconLeft)\n          .attr(\"y\", iconTop)\n          .attr(\n            \"viewBox\",\n            `0 0 ${camelizedIconName[0]} ${camelizedIconName[1]}`\n          );\n        icon.append(\"path\").attr(\"d\", camelizedIconName[4]);\n        icon.attr(\"height\", textHeight);\n\n        svg.on(\"click\", () => {\n          // handleChange(datum.id);\n          state.currentId = datum.id;\n          dispatchEvent(datum.id);\n        });\n\n        return svg;\n      } else if (labelText && labelText.length > 0) {\n        textRect = getTextRect(app, labelText);\n        textWidth = textRect.textWidth;\n        textHeight = textRect.textHeight;\n        svgBreadcrumbWidth = Math.max(\n          breadcrumbsArrowLength + textWidth + 2 * innerMargin,\n          breadcrumbsArrowLength + 10\n        );\n        labelLeft = innerMargin;\n        svg\n          .attr(\"width\", svgBreadcrumbWidth)\n          .attr(\"height\", height + strokeWidth);\n\n        const g = svg.append(\"g\");\n        if (typeof r === \"number\" && r > 0) {\n          path = roundPathCorners(\n            getPolygon(svgBreadcrumbWidth - strokeWidth, height - strokeWidth),\n            r,\n            0\n          );\n        } else {\n          path = getPolygon(\n            svgBreadcrumbWidth - strokeWidth,\n            height - strokeWidth,\n            breadcrumbsArrowLength\n          );\n        }\n        g.attr(\"transform\", `translate(${strokeWidth / 2},${strokeWidth / 2})`);\n        g.append(\"path\").attr(\"d\", path).attr(\"class\", \"breadcrumb-path\");\n\n        g.append(\"text\")\n          .text(labelText)\n          .attr(\"y\", labelTop)\n          .attr(\"x\", labelLeft)\n          .attr(\"alignment-baseline\", \"middle\")\n          .attr(\"opacity\", 1);\n\n        svg.on(\"click\", () => {\n          // handleChange(datum.id);\n          state.currentId = datum.id;\n          dispatchEvent(datum.id);\n        });\n\n        return svg;\n      } else {\n        // no icon and no text\n        svgBreadcrumbWidth = breadcrumbsArrowLength + 10;\n        svg\n          .attr(\"width\", svgBreadcrumbWidth)\n          .attr(\"height\", height + strokeWidth);\n\n        const g = svg.append(\"g\");\n        if (typeof r === \"number\" && r > 0) {\n          path = roundPathCorners(\n            getPolygon(svgBreadcrumbWidth - strokeWidth, height - strokeWidth),\n            r,\n            0\n          );\n        } else {\n          path = getPolygon(\n            svgBreadcrumbWidth - strokeWidth,\n            height - strokeWidth,\n            breadcrumbsArrowLength\n          );\n        }\n        g.attr(\"transform\", `translate(${strokeWidth / 2},${strokeWidth / 2})`);\n\n        g.append(\"path\").attr(\"d\", path).attr(\"class\", \"breadcrumb-path\");\n\n        svg.on(\"click\", () => {\n          // handleChange(datum.id);\n          state.currentId = datum.id;\n          dispatchEvent(datum.id);\n        });\n\n        return svg;\n      }\n    }\n\n    function getAscendants(id) {\n      let currentNode = idMap.get(id);\n      const ascendants = [currentNode];\n\n      while (currentNode?.parent) {\n        ascendants.push(idMap.get(currentNode.parent));\n        currentNode = idMap.get(currentNode.parent);\n      }\n      ascendants.reverse();\n      return ascendants;\n    }\n\n    function getNeighbourNodes(id) {\n      const currentNode = idMap.get(id);\n\n      if (!currentNode?.parent) {\n        return [];\n      }\n      const parent = idMap.get(currentNode.parent);\n\n      if (!parent?.children) {\n        return [];\n      }\n      return parent.children\n        .filter((child) => child !== id)\n        .map((id) => idMap.get(id));\n    }\n\n    function getMenuForId(id) {\n      const parentElem = this;\n\n      const parent = d3.select(parentElem);\n      const path = parent.select(\"path\");\n      const label = parent.select(\"text\");\n      const neighbourNodes = getNeighbourNodes(id);\n\n      const menuContainer = d3\n        .create(\"div\")\n        .attr(\"class\", \"breadcrumb-menu-container\");\n\n      menuContainer.on(\"mouseenter\", () => {\n        d3.select(parentElem).on(\"mouseleave\", null);\n\n        path.classed(\"breadcrumb-path-hover\", true);\n        label.classed(\"breadcrumb-label-hover\", true);\n      });\n\n      const menuTriangle = menuContainer\n        .append(\"div\")\n        .attr(\"class\", \"menu-triangle\");\n\n      const menuTriangle2 = menuContainer\n        .append(\"div\")\n        .attr(\"class\", \"menu-triangle menu-triangle-overlay\");\n\n      menuTriangle.node().style.left =\n        parentElem.getBoundingClientRect().width / 2 + \"px\";\n\n      menuTriangle2.node().style.left =\n        parentElem.getBoundingClientRect().width / 2 + \"px\";\n\n      const menu = menuContainer.append(\"div\").attr(\"class\", \"breadcrumb-menu\");\n      menu.node().style[\"border-radius\"] = breadcrumbsR + \"px\";\n\n      const menuData = menu.selectAll(\"div\").data(neighbourNodes, (d) => d.id);\n\n      menuContainer.on(\"mouseleave\", () => {\n        d3.select(parentElem).on(\"mouseleave\", (e) => {\n          if (e.offsetY <= 0) {\n            showingMenu.remove();\n          }\n        });\n\n        path.classed(\"breadcrumb-path-hover\", false);\n        label.classed(\"breadcrumb-label-hover\", false);\n\n        if (showingMenu) {\n          showingMenu.remove();\n        }\n      });\n\n      menuData\n        .join(\"div\")\n        .attr(\"class\", \"breadcrumb-menu-item\")\n        .text((d) => d[labelsDataKey])\n        .on(\"click\", (e, d) => {\n          state.currentId = d.id;\n          dispatchEvent(d.id);\n        });\n\n      return menuContainer;\n    }\n\n    function updateId(id) {\n      if (!idMap.get(id)) {\n        console.error(`BREADCRUMB STANZA: id not found: ${id}`);\n        console.error(`BREADCRUMB STANZA: id type is: ${typeof id}`);\n        return;\n      }\n\n      if (showingMenu) {\n        showingMenu.remove();\n      }\n      const data = getAscendants(id);\n      const selectBreadcrumb = d3\n        .select(appBreadcrumbs)\n        .selectAll(\"div\")\n        .data(data, (d) => d.id);\n\n      selectBreadcrumb\n        .join(\n          (enter) => {\n            const result = enter\n              .append(\"div\")\n              .attr(\"style\", `height: ${height}px`);\n\n            result.append((d) =>\n              generateSVGBreadcrumb(d, height, 1, breadcrumbsR).node()\n            );\n            if (showDropdown) {\n              result\n                .on(\"mouseenter\", function (e, d) {\n                  if (d.id === \"-1\") {\n                    return;\n                  }\n                  if (showingMenu) {\n                    showingMenu.remove();\n                  }\n\n                  showingMenu = getMenuForId.call(this, d.id);\n                  const breadcrumbCoords = this.getBoundingClientRect();\n                  const appRect = app.getBoundingClientRect();\n                  app.appendChild(showingMenu.node()); //TODO\n\n                  showingMenu.node().style.left = `${\n                    breadcrumbCoords.left -\n                    appRect.left +\n                    parseFloat(getComputedStyle(app.parentElement).paddingLeft)\n                  }px`;\n                  showingMenu.node().style.top = `${\n                    breadcrumbCoords.bottom -\n                    2 -\n                    appRect.top +\n                    parseFloat(getComputedStyle(app.parentElement).paddingTop)\n                  }px`;\n                })\n                .on(\"mouseleave\", (e) => {\n                  if (e.offsetY <= 0) {\n                    showingMenu.remove();\n                  }\n                });\n            }\n            return result;\n          },\n          (update) => update,\n          (exit) => exit.remove()\n        )\n        .attr(\"class\", \"breadcrumb\");\n    }\n\n    /**\n     * Checks if the given hierarchy has a single root node. If no, adds it in-place\n     *\n     * @param {Array} values Array of hierarchy nodes\n     * @param {string} rootId id to use for the root node\n     * @returns {Array} Array of hierarchy nodes with a single root node\n     */\n    function addRoot(values, rootId = \"-1\") {\n      if (values.filter((node) => !node?.parent).length > 1) {\n        const rootNode = {\n          id: \"\" + rootId,\n          label: \"\" + rootLabel,\n          children: [],\n        };\n\n        values.forEach((node) => {\n          if (!node.parent) {\n            rootNode.children.push(node.id);\n            node.parent = \"-1\";\n          }\n        });\n\n        values.push(rootNode);\n      }\n      return values;\n    }\n\n    /**\n     * Copy to clipboard handler\n     *\n     * @param {e} event\n     *\n     * @returns {void}\n     */\n    function handleCopyToClipboard() {\n      const textArea = document.createElement(\"textarea\");\n      const text = getAscendants(state.currentId)\n        .map((d) => d.label)\n        .join(\" > \");\n      textArea.value = text;\n      document.body.appendChild(textArea);\n      copyToClipbard(textArea, \"copy\");\n      textArea.remove();\n\n      const right =\n        root.getRootNode().host.getClientRects()[1].right -\n        this.getClientRects()[0].right;\n\n      const popupNode = d3\n        .create(\"div\")\n        .attr(\"class\", \"popup\")\n        .style(\"border-radius\", breadcrumbsR + \"px\")\n        .style(\"right\", right + \"px\")\n        .text(\"Copied!\")\n        .node();\n\n      const popup = app.appendChild(popupNode);\n\n      popup.animate(\n        [\n          { transform: \"translateY(-100%)\", opacity: 0 },\n          { transform: \"translateY(0px)\", opacity: 0.8 },\n        ],\n        { duration: 500 }\n      );\n\n      setTimeout(() => {\n        popup\n          .animate([{ opacity: 0.8 }, { opacity: 0 }], { duration: 100 })\n          .finished.then(() => {\n            popup.remove();\n          });\n      }, 800);\n    }\n\n    // Set currentId to render\n    if (initialId) {\n      state.currentId = initialId;\n    } else {\n      state.currentId = \"-1\";\n    }\n  }\n}\n"],"names":["d3.create","d3.select","d3\n        .create","d3\n        .select"],"mappings":"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"}