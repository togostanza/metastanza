{"version":3,"file":"dendrogram-d3.js","sources":["../../../home/runner/work/metastanza/metastanza/stanzas/dendrogram-d3/index.js"],"sourcesContent":["import Stanza from \"togostanza/stanza\";\nimport * as d3 from \"d3\";\nimport loadData from \"togostanza-utils/load-data\";\nimport ToolTip from \"@/lib/ToolTip\";\nimport { getColorSeries } from \"@/lib/ColorGenerator\";\nimport {\n  downloadSvgMenuItem,\n  downloadPngMenuItem,\n  downloadJSONMenuItem,\n  downloadCSVMenuItem,\n  downloadTSVMenuItem,\n  appendCustomCss,\n} from \"togostanza-utils\";\n\nexport default class Dendrogram extends Stanza {\n  menu() {\n    return [\n      downloadSvgMenuItem(this, \"dendrogram\"),\n      downloadPngMenuItem(this, \"dendrogram\"),\n      downloadJSONMenuItem(this, \"dendrogram\", this._data),\n      downloadCSVMenuItem(this, \"dendrogram\", this._data),\n      downloadTSVMenuItem(this, \"dendrogram\", this._data),\n    ];\n  }\n\n  async render() {\n    appendCustomCss(this, this.params[\"custom-css-url\"]);\n\n    //data\n    const width = parseInt(this.params[\"width\"]);\n    const height = parseInt(this.params[\"height\"]);\n    const labelMargin = !isNaN(parseFloat(this.params[\"node-label-margin\"]))\n      ? this.params[\"node-label-margin\"]\n      : 5;\n\n    this.renderTemplate({\n      template: \"stanza.html.hbs\",\n    });\n\n    const values = await loadData(\n      this.params[\"data-url\"],\n      this.params[\"data-type\"],\n      this.root.querySelector(\"main\")\n    );\n    this._data = values;\n\n    const showToolTips =\n      !!this.params[\"tooltips-data_key\"] &&\n      values.some((item) => item[this.params[\"tooltips-data_key\"]]);\n\n    // Setting color scale\n    const togostanzaColors = getColorSeries(this);\n\n    const color = d3.scaleOrdinal().range(togostanzaColors);\n\n    const root = this.root.querySelector(\"main\");\n    const el = this.root.getElementById(\"dendrogram-d3\");\n\n    const denroot = d3\n      .stratify()\n      .parentId((d) => d.parent)(values)\n      .sort((a, b) => {\n        if (\n          a.data[this.params[\"node-label-data_key\"]] &&\n          b.data[this.params[\"node-label-data_key\"]]\n        ) {\n          return a.data[this.params[\"node-label-data_key\"]].localeCompare(\n            b.data[this.params[\"node-label-data_key\"]]\n          );\n        } else {\n          return 0;\n        }\n      });\n\n    const svg = d3\n      .select(el)\n      .append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n    this.tooltip = new ToolTip();\n    root.append(this.tooltip);\n\n    const rootGroup = svg\n      .append(\"text\")\n      .attr(\"x\", 5)\n      .attr(\"y\", 10)\n      .text(\n        denroot.descendants()[0].data[this.params[\"node-label-data_key\"]] || \"\"\n      );\n\n    const rootLabelWidth = rootGroup.node().getBBox().width;\n    rootGroup.remove();\n\n    const g = svg\n      .append(\"g\")\n      .attr(\n        \"transform\",\n        `translate(${rootLabelWidth + this.params[\"node-label-margin\"]},0)`\n      );\n\n    const tempGroup = svg.append(\"g\");\n\n    const data = denroot.descendants().slice(1);\n    const maxDepth = d3.max(data, (d) => d.depth);\n\n    const labelsarray = [];\n    for (const n of data) {\n      if (n.depth === maxDepth) {\n        labelsarray.push(n.data[this.params[\"node-label-data_key\"]] || \"\");\n      }\n    }\n\n    tempGroup\n      .selectAll(\"text\")\n      .data(labelsarray)\n      .enter()\n      .append(\"text\")\n      .text((d) => d);\n    const maxLabelWidth = tempGroup.node().getBBox().width;\n    tempGroup.remove();\n\n    const toggle = (d) => {\n      if (d.children) {\n        d._children = d.children;\n        d.children = null;\n      } else {\n        d.children = d._children;\n        d._children = null;\n      }\n    };\n\n    let graphType = d3.tree();\n\n    if (this.params[\"graph-type\"] === \"tree\") {\n      graphType = d3.tree();\n    } else {\n      graphType = d3.cluster();\n    }\n\n    denroot.x0 = height / 2;\n    denroot.y0 = 0;\n\n    const update = (source) => {\n      graphType.size([\n        height,\n        width - maxLabelWidth - rootLabelWidth - labelMargin * 2,\n      ]);\n\n      let i = 0;\n\n      graphType(denroot);\n\n      const node = g\n        .selectAll(\".node\")\n        .data(denroot.descendants(), (d) => d.id || (d.id = ++i));\n\n      const nodeEnter = node\n        .enter()\n        .append(\"g\")\n        .attr(\"class\", \"node\")\n        .attr(\"transform\", `translate(${source.y0}, ${source.x0})`)\n        .on(\"click\", (e, d) => {\n          toggle(d);\n          update(d);\n        });\n\n      nodeEnter\n        .append(\"circle\")\n        .attr(\"data-tooltip\", (d) => d.data[this.params[\"tooltips-data_key\"]])\n        .classed(\"with-children\", (d) => d.children);\n\n      nodeEnter\n        .append(\"text\")\n        .attr(\"x\", (d) =>\n          d.children || d._children ? -labelMargin : labelMargin\n        )\n        .attr(\"dy\", \"3\")\n        .attr(\"text-anchor\", (d) =>\n          d.children || d._children ? \"end\" : \"start\"\n        )\n        .text((d) => d.data[this.params[\"node-label-data_key\"]] || \"\");\n\n      const nodeUpdate = nodeEnter.merge(node);\n      const duration = 500;\n\n      nodeUpdate\n        .transition()\n        .duration(duration)\n        .attr(\"transform\", (d) => `translate(${d.y}, ${d.x})`);\n\n      nodeUpdate\n        .select(\"circle\")\n        .attr(\"r\", parseFloat(this.params[\"node-size-fixed_size\"] / 2))\n        .attr(\"fill\", (d) => (d._children ? \"#fff\" : color(d.depth)));\n\n      node\n        .exit()\n        .transition()\n        .duration(duration)\n        .attr(\"transform\", `translate(${source.y}, ${source.x})`)\n        .remove();\n\n      const link = g\n        .selectAll(\".link\")\n        .data(denroot.links(), (d) => d.target.id);\n\n      const linkEnter = link\n        .enter()\n        .insert(\"path\", \"g\")\n        .attr(\"class\", \"link\")\n        .attr(\"d\", d3.linkHorizontal().x(source.y0).y(source.x0));\n\n      const linkUpdate = linkEnter.merge(link);\n      linkUpdate\n        .transition()\n        .duration(duration)\n        .attr(\n          \"d\",\n          d3\n            .linkHorizontal()\n            .x((d) => d.y)\n            .y((d) => d.x)\n        );\n\n      link\n        .exit()\n        .transition()\n        .duration(duration)\n        .attr(\"d\", d3.linkHorizontal().x(source.y).y(source.x))\n        .remove();\n\n      node.each((d) => {\n        d.x0 = d.x;\n        d.y0 = d.y;\n      });\n    };\n    update(denroot);\n\n    if (showToolTips) {\n      this.tooltip.setup(el.querySelectorAll(\"[data-tooltip]\"));\n    }\n  }\n}\n"],"names":["d3.scaleOrdinal","d3\n      .stratify","d3\n      .select","d3.max","d3.tree","d3.cluster","d3.linkHorizontal","d3\n            .linkHorizontal"],"mappings":"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"}